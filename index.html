<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Shiny app for the analysis of flow cytometry data using the
    flowCore and flowWorkspace framework.">
<title>Shiny App for Flow Cytometry Data • flowFate</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Shiny App for Flow Cytometry Data">
<meta property="og:description" content="Shiny app for the analysis of flow cytometry data using the
    flowCore and flowWorkspace framework.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">flowFate</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/maximesunnen/flowFate/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="flowfate">flowFate<a class="anchor" aria-label="anchor" href="#flowfate"></a>
</h1></div>
<p>FlowFate is a free, interactive <a href="https://shiny.rstudio.com/" class="external-link">Shiny</a> web application developed to automate the analysis of cell differentiation data obtained by flow cytometry. We developed flowFate by combining existing R packages</p>
<ul>
<li>
<a href="https://www.bioconductor.org/packages/devel/bioc/vignettes/flowCore/inst/doc/HowTo-flowCore.pdf" class="external-link">flowCore</a> and <a href="https://www.bioconductor.org/packages/release/bioc/html/flowWorkspace.html" class="external-link">flowWorkspace</a> for FCS file import data manipulation and gating</li>
<li>
<a href="https://www.bioconductor.org/packages/release/bioc/html/ggcyto.html" class="external-link">ggcyto</a> for visualization</li>
</ul>
<p>into a customized workflow tailored to the analysis of differentiation data. We were able to automate a crucial and time-consuming process of data analysis using <a href="https://www.bioconductor.org/packages/release/bioc/html/openCyto.html" class="external-link">openCyto’s</a> data-driven gating functions.</p>
<p>Built with <a href="https://github.com/ThinkR-open/golem" class="external-link">{golem}</a>.</p>
<div class="section level2">
<h2 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h2>
<p>FlowFate is tailored to analyze cell differentiation data obtained according to <a href="">Chippalkatti et al</a>. Briefly, C2C12 are a type of cell with the ability to turn into (they “differentiate”) into muscle cells. Until they do this, they’re in an immature state and scientists call them “undifferentiated”.Technically, one could analyze a pool of C2C12 cells under the microscope visually determine which cells are differentiated and which are not. Practically this would be way too tedious. Luckily, differentiated muscle cells produce a specific protein called myosin that undifferentiated cells do not produce (or in low amounts). One can stain this protein with an antibody attached to a fluorescent molecule and analyze the pool of cells using a flow cytometer. A flow cytometer is a device that channels cells in a small capillary so that they can pass in front of a laser one-by-one. This laser light excites the fluorescent molecule attached to our antibody (itself attached to myosin), which in response also emits light (of a different color than the laser light) that can ultimately be captured by a camera. Depending on how much of this light is captured, one can determine if a cell is differentiated or not (remember that even undifferentiatde cells can produce a small amount of myosin and we’re only interested in those cells that produce a lot of it).</p>
</div>
<div class="section level2">
<h2 id="dockerized-the-app">Dockerized the app<a class="anchor" aria-label="anchor" href="#dockerized-the-app"></a>
</h2>
<ol start="0" style="list-style-type: decimal">
<li><p>Makes sure that no folder <code>deploy</code> exists at the project root.</p></li>
<li><p>Follow steps in <code>dev/03_deploy.R</code>, namely:</p></li>
</ol>
<p>Of note, {dockerfiler} is needed (it uses {pak}).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">check</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">build</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">golem</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/golem/man/dockerfiles.html" class="external-link">add_dockerfile_with_renv_shinyproxy</a></span><span class="op">(</span>output_dir <span class="op">=</span> <span class="st">"deploy"</span>, lockfile <span class="op">=</span> <span class="st">"renv.lock"</span><span class="op">)</span></span>
<span><span class="co"># if renv.lock.prod is missing</span></span>
<span><span class="fu">attachment</span><span class="fu">::</span><span class="fu">create_renv_for_prod</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="st">"renv.lock.prod"</span>, <span class="st">"deploy/renv.lock.prod"</span><span class="op">)</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Should obtain a README in <code>deploy</code> that is:</li>
</ol>
<pre><code>docker build -f Dockerfile_base --progress=plain -t flowfate_base .
docker build -f Dockerfile --progress=plain -t flowfate:latest .
docker run -p 3838:3838 flowfate:latest
# then go to 127.0.0.1:3838</code></pre>
<p><code>deploy</code> folder contains:</p>
<pre><code><span><span class="va">Dockerfile</span></span>
<span><span class="va">Dockerfile_base</span></span>
<span><span class="va">flowFate_0.0.0.9000.tar.gz</span></span>
<span><span class="va">README</span></span>
<span><span class="va">renv.lock</span></span>
<span><span class="va">renv.lock.prod</span></span></code></pre>
<ol start="3" style="list-style-type: decimal">
<li>
<code>scp</code> the <code>deploy</code> folder to the `shiny-sever` in the <strong>shinyproxy</strong> <code>container_apps/</code> and execute <strong>as root</strong> the commands in the README</li>
</ol>
<p>Make sure to use the binary versions for Linux from <a href="https://packagemanager.posit.co" class="external-link">PPPM</a></p>
<p><code>RUN R -e "renv::restore(repos = 'https://packagemanager.posit.co/cran/__linux__/jammy/latest/')"</code></p>
<pre><code>docker build -f Dockerfile_base --progress=plain -t flowfate_base .
docker build -f Dockerfile --progress=plain -t flowfate:latest .</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>edit <code>/home/aurelien.ginolhac/deploiement/container_system/shinyproxy-docker/application.yml</code>
</li>
</ol>
<p>adding something like:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">id</span><span class="kw">:</span><span class="at"> mdm200504</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">display-name</span><span class="kw">:</span><span class="at"> MDM200504</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">container-network</span><span class="kw">:</span><span class="at"> sp-network</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">description</span><span class="kw">:</span><span class="at"> </span><span class="st">"Companion app for the MDM project 200504"</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">container-cmd</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="st">"R"</span><span class="kw">,</span><span class="at"> </span><span class="st">"-e"</span><span class="kw">,</span><span class="at"> </span><span class="st">"library(mdm200504);options('shiny.port'=3838,shiny.host='0.0.0.0');mdm200504::run_app()"</span><span class="kw">]</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">container-image</span><span class="kw">:</span><span class="at"> mdm200504</span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>In <code>/home/aurelien.ginolhac/deploiement/</code>, run <code>./relance_machinerie</code> so the new app is linked.</li>
</ol>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To run the app in R, install R and R Studio <a href="https://posit.co/download/rstudio-desktop/" class="external-link">here</a>, then run the commands below in your R Studio console, in the defined order.</p>
<p>Because of the large amount of dependencies, it can take ~ 15 minutes to install the app. Users having access to the network of the University of Luxembourg can open the app by clicking on the following link: <a href="https://shiny-server.uni.lu/app/flowfate" class="external-link uri">https://shiny-server.uni.lu/app/flowfate</a>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install the remotes and BiocManager package</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"remotes"</span>, <span class="st">"BiocManager"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># install dependencies from Bioconductor</span></span>
<span><span class="fu">BiocManager</span><span class="fu">::</span><span class="fu">install</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ggcyto"</span>, <span class="st">"flowWorkspace"</span>, <span class="st">"flowCore"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"openCyto"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># install the flowFate package</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"maximesunnen/flowFate"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># open the app</span></span>
<span><span class="fu">flowFate</span><span class="fu">::</span><span class="fu"><a href="reference/run_app.html">run_app</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/maximesunnen/flowFate/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/maximesunnen/flowFate/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing flowFate</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Maxime Sünnen <br><small class="roles"> Maintainer, author </small>  </li>
<li>Aurélien Ginolhac <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Maxime Sünnen, Aurélien Ginolhac.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
